<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Debugging · Parkitect Mod Community</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Introduction"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Debugging · Parkitect Mod Community"/><meta property="og:type" content="website"/><meta property="og:url" content="https://parkitect-mod-community.github.io/"/><meta property="og:description" content="## Introduction"/><meta property="og:image" content="https://parkitect-mod-community.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://parkitect-mod-community.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://parkitect-mod-community.github.io/blog/atom.xml" title="Parkitect Mod Community Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://parkitect-mod-community.github.io/blog/feed.xml" title="Parkitect Mod Community Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon.ico" alt="Parkitect Mod Community"/><h2 class="headerTitleWithLogo">Parkitect Mod Community</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/starter" target="_self">Documentation</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Modding</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Starter</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/starter">Starter</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Modding</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/imod-interface">IMod Interface</a></li><li class="navListItem"><a class="navItem" href="/docs/logging">Logging</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/debugging">Debugging</a></li><li class="navListItem"><a class="navItem" href="/docs/github">GitHub for beginners</a></li><li class="navListItem"><a class="navItem" href="/docs/parkitool">Parkitool</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Models And Assets</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/asset-bundle">Models and Assets</a></li><li class="navListItem"><a class="navItem" href="/docs/asset-bundle-for-beginner">Asset Bundle For Beginners</a></li><li class="navListItem"><a class="navItem" href="/docs/recolorable-objects">Recolorable Objects</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Debugging</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="introduction"></a><a href="#introduction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>The easiest way to debug a mod is to extensively use logging via <code>UnityEngine.Debug.Log(...)</code> or similar methods. How to use logging is described <a href="./Logging">here</a>.</p>
<p>Though for complex issues logging is quite pitiful and no replacement for a real debugger. Parkitect uses the Unity Engine, which contains a debugging system. Although Parkitect still needs to be prepared for debugging by putting into Development mode.
<br/>
<br/>
This guide is based on <a href="http://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/">a forum post</a> by <a href="http://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/">sarbian</a> who discovered how to debug mods for <a href="https://kerbalspaceprogram.com">Kerbal Space Program</a>. Since KBS as well as Parkitect are based on Unity this method works for Parkitect too (with slight adjustments).<br>
The forum post for Kerbal Space Program can be found <a href="http://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/">here</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="parkitect-versions"></a><a href="#parkitect-versions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parkitect Versions</h3>
<p>Parkitect comes in multiple Versions: 32bit and 64bit, for Steam and without Steam (via Humble Bundle). Debugging works with all version.</p>
<p>This guide focuses on the Windows versions. However the steps should be the same on Linux and OSX and just differ in the paths of the executables.<br>
Currently this guide only explains how to debug via Visual Studio which is available only on Windows. But the approach on other IDEs are quite similar. For more details on the different OSs and IDEs see the <a href="http://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/">original forum post for KSP</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="before-you-start"></a><a href="#before-you-start" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Before you start</h2>
<p>The management and loading of Parkitect mods is done by the <a href="https://parkitectnexus.com/download-client">Parkitect Nexus Client</a>. Therefore you must have installed PN and started Parkitect at least once via PN. That installs the Parkitect Nexus Mod Loader, which is required to load mods managed by PN.<br>
Additional in order to debug your mod, you must have your mod enabled in the Parkitect Nexus Client so your mod loads when starting Parkitect.</p>
<h2><a class="anchor" aria-hidden="true" id="prepare-parkitect"></a><a href="#prepare-parkitect" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prepare Parkitect</h2>
<p>Parkitect must be put into Development mode to start its debugging server.</p>
<h3><a class="anchor" aria-hidden="true" id="install-unity"></a><a href="#install-unity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install Unity</h3>
<p>First you need a Unity installation with the exact Unity engine version that is used in Parkitect. This version number can be found in the first line of <code>/Parkitect/Parkitect_Data/output_log.txt</code>.<br>
All Unity installers for final versions can be found in the <a href="https://unity3d.com/get-unity/download/archive">Unity Download Archive</a>. Final versions are indicated by an <strong><code>f</code></strong> in the version number, like <code>5.3.4.</code><strong><code>f</code></strong><code>.1</code>. Additional there are <a href="https://unity3d.com/unity/qa/patch-releases">patch releases</a> for Unity, indicated by <strong><code>p</code></strong>, like in <code>5.3.4.</code><strong><code>p</code></strong><code>.1</code>.<br>
In case of Parkitect Alpha 1a the first line of <code>output_log.txt</code> reads</p>
<pre><code class="hljs">    Initialize engine version: <span class="hljs-number">5.3</span><span class="hljs-number">.4</span>p4 (<span class="hljs-number">43</span>a3882ae25c)
</code></pre>
<p>and therefore you need the installer for <a href="https://unity3d.com/unity/qa/patch-releases/5.3.4p4">Unity 5.3.4p4</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="put-parkitect-into-development-mode"></a><a href="#put-parkitect-into-development-mode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Put Parkitect into Development Mode</h3>
<p>After you installed Unity, go into its installation folder (default for Windows is <code>C:\\Program Files\Unity\</code>). Move down to <code>Editor\Data\PlaybackEngines\WindowsStandaloneSupport\Variation\win64_development_mono\</code> for Parkitect x64 and <code>Editor\Data\PlaybackEngines\WindowsStandaloneSupport\Variation\win32_development_mono\</code> for x86. Copy <code>player_win.exe</code> into your Parkitect folder (next to <code>Parkitect.exe</code>) and rename it to <code>Parkitect_debug.exe</code>.<br>
Now open a command prompt in that folder and execute <code>mklink /J Parkitect_debug_Data Parkitect_Data</code>. That's created a new folder called <code>Parkitect_debug_Data</code> that points to the <code>Parkitect_Data</code> folder.<br>
<img src="https://raw.githubusercontent.com/Craxy/Parkitect-DebugMods/master/docs/wiki/img/ParkitectFolder.png" alt="Parkitect folder structure"></p>
<p>If you now start Parkitect via <code>Parkitect_debug.exe</code> the bottom right corner should read &quot;Development Build&quot;.<br>
<img src="https://raw.githubusercontent.com/Craxy/Parkitect-DebugMods/master/docs/wiki/img/ParkitectDevelopmentBuild.png" alt="Parkitect Development Build">  <br>
Additional there might appear a &quot;Development Console&quot; with some errors in the lower left. In the case of the image above Parkitect failed to initialize its Steam features. Since we launched Parkitect without using Steam that's ok -- just ignore the message.</p>
<h3><a class="anchor" aria-hidden="true" id="make-parkitect-listen-to-debug-sessions"></a><a href="#make-parkitect-listen-to-debug-sessions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Make Parkitect listen to debug sessions</h3>
<p>Next create a file called <code>PlayerConnectionConfigFile</code> (no extension!) in the folder <code>/Parkitect/Parkitect_debug_Data</code> with the content <code>listen 12345 1 0</code> or download  <a href="https://raw.githubusercontent.com/Craxy/Parkitect-DebugMods/master/docs/wiki/data/PlayerConnectionConfigFile">this PlayerConnectionConfigFile file</a>. On future launches of Parkitect via <code>Parkitect_debug.exe</code> the Parkitects mono debugger starts listen to debug sessions.</p>
<p>What does <code>listen 12345 1 0</code> in the <code>PlayerConnectionConfigFile</code> mean?</p>
<ul>
<li><code>listen</code> tells the mono/unity debugger to start listen to debug sessions.<br>
Its format is
<pre><code class="hljs">listen <span class="hljs-tag">&lt;<span class="hljs-name">guid</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">debugging</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">waitonstartup</span>&gt;</span>
</code></pre></li>
<li><code>guid</code> (here: 12345): A random number that identifies a debug instance. Although it's depicted as &quot;guid&quot; it doesn't accept a GUID in its usual form like &quot;21EC2020-3AEA-4069-A2DD-08002B30309D&quot;. Another strange thing is inside the output_log.txt file it's labeled as &quot;EditorId&quot; while another (automatically created) number is displayed as &quot;Guid&quot;.<br>
That's why I guess the number just tells different game instances apart.</li>
<li><code>debugging</code> (here: 1): Either 0 or 1. Disables or enables the debugger.</li>
<li><code>waitonstartup</code> (here: 0): Either 0 or 1. It doesn't seem to have any impact on debugging a Parkitect mod. I guess it tells Unity directly at start to wait for a debugger to connect -- although it directly times out. The output_log.txt reads:
<pre><code class="hljs">Waiting <span class="hljs-keyword">for</span><span class="hljs-built_in"> connection </span><span class="hljs-keyword">from</span> host on [192.168.1.5:55374]<span class="hljs-built_in">..</span>.
Timed out. Continuing without host connection.
</code></pre></li>
</ul>
<p>Unity uses a remote debugger, that connects via IP and port. The Debugger should detect the game instance automatically, but if you ever need to find the used IP and port these information are in the output_log.txt after you started Parkitect in Development Mode.</p>
<h2><a class="anchor" aria-hidden="true" id="debugging-in-visual-studio"></a><a href="#debugging-in-visual-studio" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debugging in Visual Studio</h2>
<h3><a class="anchor" aria-hidden="true" id="install-vs-tools-for-unity"></a><a href="#install-vs-tools-for-unity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install VS Tools for Unity</h3>
<p>To enabled debugging Unity games from within Visual Studio install <a href="https://visualstudiogallery.msdn.microsoft.com/8d26236e-4a64-4d64-8486-7df95156aba9">&quot;Visual Studio Tools for Unity&quot;</a>. They are available for Visual Studio 2010 to 2015, but this guide focuses on VS 2015. There might be slight differences in different VS versions, but the approaches should be similar.</p>
<h3><a class="anchor" aria-hidden="true" id="compile-mod"></a><a href="#compile-mod" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compile Mod</h3>
<p>To actual debug a Mod we can't just use the compiled Library (dll) by the ParkitectNexus Client (located in <code>bin/</code> folder in your mod directory).<br>
First of all we must compile the mod in Debug Configuration. The Parkitect Nexus Client compiles code for Release Build which optimizes the code. We don't want this for debugging. So we compile the mod with Visual Studio in Debug configuration.<br>
We must tell ParkitectNexus to use that debug build instead of the version PN compiled. To do this change the path in <code>bin/build.dat</code> (which usually points to the dll compiled by PN) to the compiled debug dll. (<em>! Your mod's root dir is the origin of this path, not the folder <code>bin</code>.</em>)<br>
In case of <a href="https://github.com/Craxy/Parkitect-DebugMods">this example mod</a> the mod project is in <a href="https://github.com/Craxy/Parkitect-DebugMods/blob/master/src/DebugTestMod"><code>./src/DebugTestMod</code></a> and it compiles to the default output path, which is <code>bin/Debug/</code>. In this case <code>.\src\DebugTestMod\bin\Debug\DebugTestMod.dll</code> must be put into <code>./bin/build.dat</code>.</p>
<p>If there's no <code>./bin/build.dat</code> file, compile your mod once with PN.</p>
<h3><a class="anchor" aria-hidden="true" id="generate-debug-information"></a><a href="#generate-debug-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generate debug information</h3>
<p>For debugging the executing mod library must be linked to the actual code. That's done via a special file with the necessary debug info. When building a project in the default debug configuration such a debug info file is automatically generated in the output folder besides the output dll. It has the same name as the dll, but the file extension is <code>pdb</code> (&quot;Program Database&quot;).<br>
Unfortunately a pdb isn't directly compatible with mono/unity and therefore we need to create special debug information tailored for mono (<code>.mdb</code>). The <code>.pdb</code> file must be converted into a <code>.mdb</code> file. Mono provides such a tool called <code>pdb2mdb</code>. Mono is included in the Unity installation -- but unfortunately the included pdb2mdb application isn't compatible with the dlls compiled via Visual Studio (or at least not with an up-to-date .Net/C# compiler). Instead we can use the pdb2mdb tool from the <a href="http://www.mono-project.com/download/">newest Mono version</a>. In the directory with your debug dll execute <code>[Path\To\Mono]\bin\mono.exe [Path\To\Mono]\lib\mono\4.5\pdb2mdb.exe [YourAssemblyName].dll</code>. That'll create the <code>pdb</code> file. In case of <a href="https://github.com/Craxy/Parkitect-DebugMods">my example projectmod</a> the corresponding command is <code>&quot;C:\Program Files (x86)\Mono\bin\mono.exe&quot; &quot;C:\Program Files (x86)\Mono\lib\mono\4.5\pdb2mdb.exe&quot; DebugTestMod.dll</code> (the quotation marks are necessary because the path contains spaces).</p>
<p>Instead of installing the full Mono version we can just download the <a href="https://www.nuget.org/packages/Mono.Unofficial.pdb2mdb/">pdb2mdb executable via nuget (<code>Mono.Unofficial.pdb2mdb</code>)</a> (Don't use <code>Mono pdb2mdb</code>. That's an old version that doesn't work with new dlls.). To create the <code>pdb</code> go into the directory with your debug dll and execute</p>
<pre><code class="hljs"><span class="hljs-selector-attr">[Path\To\Mono.Unofficial.pdb2mdb]</span>\<span class="hljs-selector-tag">tools</span>\<span class="hljs-selector-tag">pdb2mdb</span><span class="hljs-selector-class">.exe</span> <span class="hljs-selector-attr">[YourAssemblyName]</span><span class="hljs-selector-class">.dll</span>
</code></pre>
<p>For <a href="https://github.com/Craxy/Parkitect-DebugMods">my example projectmod</a> the corresponding command (from inside the <code>.\src\DebugTestMod\bin\Debug</code> directory with Mono.Unofficial.pdb2mdb version 4.2.3.4 installed in VS via nuget) is</p>
<pre><code class="hljs">..\..\..\..\<span class="hljs-selector-tag">packages</span>\<span class="hljs-selector-tag">Mono</span><span class="hljs-selector-class">.Unofficial</span><span class="hljs-selector-class">.pdb2mdb</span><span class="hljs-selector-class">.4</span><span class="hljs-selector-class">.2</span><span class="hljs-selector-class">.3</span><span class="hljs-selector-class">.4</span>\<span class="hljs-selector-tag">tools</span>\<span class="hljs-selector-tag">pdb2mdb</span><span class="hljs-selector-class">.exe</span> .\<span class="hljs-selector-tag">DebugTestMod</span><span class="hljs-selector-class">.dll</span>
</code></pre>
<p>Instead of manually calling this command after every build this can be automated: Add as Post-build event (Project Properties -&gt; Build Events)</p>
<pre><code class="hljs">..<span class="hljs-symbol">\.</span>.<span class="hljs-symbol">\.</span>.<span class="hljs-symbol">\.</span>.<span class="hljs-symbol">\p</span>ackages<span class="hljs-symbol">\M</span>ono.Unofficial.pdb2mdb.4.2.3.4<span class="hljs-symbol">\t</span>ools<span class="hljs-symbol">\p</span>db2mdb.exe "$(TargetFileName)"
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="debug-your-parkitect-mod"></a><a href="#debug-your-parkitect-mod" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debug your Parkitect Mod</h3>
<p>Now you can start Parkitect in Developer Mode (via Parkitect_debug.exe) (make sure your mod is enabled in the Parkitect Nexus Client, the <code>build.dat</code> points to your debug build and the <code>mdb</code> file exists). In Visual Studio select in the Menu &quot;Debug&quot; -&gt; &quot;Attach Unity Debugger&quot; and then Parkitect's Unity instance. There's just one instance to select if you debug locally and only have one instance of Parkitect (and no other unity game with a debugger) open.</p>
<p>When the game reaches a break point Parkitect will break so you can debug through your mod.<br>
<img src="https://raw.githubusercontent.com/Craxy/Parkitect-DebugMods/master/docs/wiki/img/HitBreakPointInVisualStudio.png" alt="Hit breakpoint in VS"></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/logging"><span class="arrow-prev">← </span><span>Logging</span></a><a class="docs-next button" href="/docs/github"><span class="function-name-prevnext">GitHub for beginners</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#introduction">Introduction</a><ul class="toc-headings"><li><a href="#parkitect-versions">Parkitect Versions</a></li></ul></li><li><a href="#before-you-start">Before you start</a></li><li><a href="#prepare-parkitect">Prepare Parkitect</a><ul class="toc-headings"><li><a href="#install-unity">Install Unity</a></li><li><a href="#put-parkitect-into-development-mode">Put Parkitect into Development Mode</a></li><li><a href="#make-parkitect-listen-to-debug-sessions">Make Parkitect listen to debug sessions</a></li></ul></li><li><a href="#debugging-in-visual-studio">Debugging in Visual Studio</a><ul class="toc-headings"><li><a href="#install-vs-tools-for-unity">Install VS Tools for Unity</a></li><li><a href="#compile-mod">Compile Mod</a></li><li><a href="#generate-debug-information">Generate debug information</a></li><li><a href="#debug-your-parkitect-mod">Debug your Parkitect Mod</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon.ico" alt="Parkitect Mod Community" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/docs/en/doc2.html">Guides (or other categories)</a><a href="/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Your Name or Your Company Name</section></footer></div></body></html>